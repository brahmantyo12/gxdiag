<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>GXDiag - Ultimate Specs</title>
    <link rel="stylesheet" href="../../css/style.css">
    <style>
        body { 
            background: #0b0b0b; display: flex; flex-direction: column; 
            min-height: 100vh; overflow-x: hidden; font-family: 'Segoe UI', monospace; color: #eee;
        }
        
        .mod-header {
            padding: 15px 20px; background: #111; border-bottom: 1px solid #333; 
            display: flex; align-items: center; justify-content: space-between; flex-shrink: 0;
        }
        .back-btn { text-decoration: none; color: #fff; font-weight: bold; }

        .container {
            padding: 20px; max-width: 900px; margin: 0 auto; width: 100%;
            display: flex; flex-direction: column; gap: 20px;
        }

        /* CARD STYLE */
        .spec-card {
            background: #151515; border: 1px solid #333; border-radius: 12px; padding: 20px;
            position: relative; overflow: hidden;
        }
        .spec-card.highlight { border-color: #00e5ff; box-shadow: 0 0 15px rgba(0, 229, 255, 0.1); }
        
        .card-header {
            font-size: 0.8rem; color: #888; text-transform: uppercase; letter-spacing: 1px;
            margin-bottom: 15px; font-weight: bold; display: flex; align-items: center; gap: 8px;
        }
        
        .data-row {
            display: flex; justify-content: space-between; align-items: center;
            padding: 8px 0; border-bottom: 1px dashed #333; font-size: 0.95rem;
        }
        .data-row:last-child { border-bottom: none; }
        
        .lbl { color: #aaa; }
        .val { color: #fff; font-weight: bold; text-align: right; }
        .val.highlight { color: #00e5ff; }
        .val.warn { color: #ff4081; }

        /* GPU RENDERER BIG TEXT */
        .gpu-main {
            font-size: 1.2rem; color: #00e5ff; font-weight: bold; margin-bottom: 5px; word-break: break-word;
        }
        
        /* FAKE DEVICE ALERT BOX */
        .alert-box {
            background: rgba(255, 64, 129, 0.1); border: 1px solid #ff4081; color: #ff80ab;
            padding: 15px; border-radius: 8px; font-size: 0.85rem; line-height: 1.5;
            display: none; /* Hidden by default */
        }

        /* PROGRESS BAR FOR MEMORY */
        .mem-bar-bg { width: 100%; height: 6px; background: #333; border-radius: 3px; margin-top: 5px; }
        .mem-bar-fill { height: 100%; background: #00e5ff; width: 0%; border-radius: 3px; }

        /* SCREEN INFO GRID */
        .screen-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 10px; }
        .screen-item { background: #1a1a1a; padding: 10px; border-radius: 8px; text-align: center; border: 1px solid #333; }
        .si-val { font-size: 1.1rem; font-weight: bold; color: #fff; }
        .si-lbl { font-size: 0.7rem; color: #666; }

    </style>
</head>
<body>

    <div class="mod-header">
        <a href="../../index.html" class="back-btn">‚Üê DASHBOARD</a>
        <div style="font-size:0.8rem; color:#666;">SPECS INSPECTOR</div>
    </div>

    <div class="container">

        <div class="alert-box" id="fake-alert">
            ‚ö†Ô∏è <b>SUSPICIOUS DEVICE DETECTED!</b><br>
            Device Anda teridentifikasi sebagai "iPhone" tetapi menggunakan GPU "Android" (Adreno/Mali). Ini indikasi kuat HP Replika/HDC.
        </div>

        <div class="spec-card highlight">
            <div class="card-header">üéÆ GRAPHICS UNIT (GPU)</div>
            <div class="gpu-main" id="gpu-renderer">Detecting...</div>
            <div style="font-size:0.8rem; color:#888; margin-bottom:15px;" id="gpu-vendor">-</div>
            
            <div class="data-row">
                <span class="lbl">API Support</span>
                <span class="val" id="webgl-ver">-</span>
            </div>
            <div class="data-row">
                <span class="lbl">Texture Size (Max)</span>
                <span class="val" id="tex-size">-</span>
            </div>
            <div class="data-row">
                <span class="lbl">Anisotropy Filter</span>
                <span class="val" id="aniso">-</span>
            </div>
            <p style="font-size:0.7rem; color:#555; margin-top:10px;">
                *Max Texture Size sering menentukan kelas GPU. (4096=Low/Old, 8192=Mid/High, 16384=Flagship/PC).
            </p>
        </div>

        <div class="spec-card">
            <div class="card-header">üß† CPU & SYSTEM</div>
            <div class="data-row">
                <span class="lbl">Platform (OS)</span>
                <span class="val" id="os-plat">-</span>
            </div>
            <div class="data-row">
                <span class="lbl">CPU Logical Cores</span>
                <span class="val" id="cpu-cores">-</span>
            </div>
            <div class="data-row">
                <span class="lbl">RAM Estimasi</span>
                <span class="val" id="ram-gb">-</span>
            </div>
            <div class="data-row">
                <span class="lbl">User Agent</span>
                <span class="val" style="font-size:0.7rem; max-width:60%; text-align:right;" id="ua-string">-</span>
            </div>
        </div>

        <div class="spec-card">
            <div class="card-header">üì± DISPLAY & PANEL</div>
            
            <div class="screen-grid">
                <div class="screen-item">
                    <div class="si-val" id="res-screen">-</div>
                    <div class="si-lbl">PHYSICAL RES</div>
                </div>
                <div class="screen-item">
                    <div class="si-val" id="res-view">-</div>
                    <div class="si-lbl">VIEWPORT RES</div>
                </div>
            </div>

            <div class="data-row" style="margin-top:15px;">
                <span class="lbl">Pixel Density (DPR)</span>
                <span class="val" id="dpr-val">-</span>
            </div>
            <div class="data-row">
                <span class="lbl">Color Depth</span>
                <span class="val" id="color-depth">-</span>
            </div>
            <div class="data-row">
                <span class="lbl">Color Gamut (P3)</span>
                <span class="val" id="color-gamut">-</span>
            </div>
            <div class="data-row">
                <span class="lbl">HDR Capable</span>
                <span class="val" id="hdr-support">-</span>
            </div>
            <div class="data-row">
                <span class="lbl">Orientation</span>
                <span class="val" id="orient">-</span>
            </div>
            <p style="font-size:0.7rem; color:#555; margin-top:10px;">
                *Browser tidak mengizinkan akses ke Merk Panel (misal: Samsung/BOE). Kami mendeteksi kualitas panel melalui Color Gamut & HDR support.
            </p>
        </div>

    </div>

    <script>
        // 1. GPU DETECTION (ADVANCED)
        function getGPU() {
            try {
                const canvas = document.createElement('canvas');
                const gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');
                if (!gl) return { renderer: "Not Supported", vendor: "-" };

                const debugInfo = gl.getExtension('WEBGL_debug_renderer_info');
                const renderer = debugInfo ? gl.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL) : "Unknown";
                const vendor = debugInfo ? gl.getParameter(debugInfo.UNMASKED_VENDOR_WEBGL) : "Unknown";
                
                // Capabilities
                const maxTex = gl.getParameter(gl.MAX_TEXTURE_SIZE);
                const anisoExt = gl.getExtension('EXT_texture_filter_anisotropic');
                const maxAniso = anisoExt ? gl.getParameter(anisoExt.MAX_TEXTURE_MAX_ANISOTROPY_EXT) : 0;

                return { renderer, vendor, maxTex, maxAniso, gl };
            } catch (e) {
                return { renderer: "Error", vendor: "-" };
            }
        }

        const gpu = getGPU();
        document.getElementById('gpu-renderer').innerText = gpu.renderer;
        document.getElementById('gpu-vendor').innerText = gpu.vendor;
        document.getElementById('webgl-ver').innerText = gpu.gl ? "WebGL 1.0 (Enabled)" : "Disabled";
        document.getElementById('tex-size').innerText = gpu.maxTex ? gpu.maxTex + " px" : "-";
        document.getElementById('aniso').innerText = gpu.maxAniso ? gpu.maxAniso + "x" : "Not Supported";

        // 2. HDC / FAKE IPHONE DETECTOR
        const ua = navigator.userAgent;
        const isIOS = /iPhone|iPad|iPod/.test(ua);
        const gpuLower = gpu.renderer.toLowerCase();
        
        // Logika: Jika User Agent bilang iPhone, tapi GPU-nya Adreno/Mali (Punya Android), maka FAKE.
        if (isIOS && (gpuLower.includes('adreno') || gpuLower.includes('mali'))) {
            document.getElementById('fake-alert').style.display = 'block';
        }

        // 3. SYSTEM INFO
        document.getElementById('os-plat').innerText = navigator.platform;
        document.getElementById('cpu-cores').innerText = navigator.hardwareConcurrency || "?";
        document.getElementById('ram-gb').innerText = navigator.deviceMemory ? `~${navigator.deviceMemory} GB` : "Hidden by Browser";
        document.getElementById('ua-string').innerText = ua;

        // 4. SCREEN INFO
        document.getElementById('res-screen').innerText = `${window.screen.width} x ${window.screen.height}`;
        document.getElementById('res-view').innerText = `${window.innerWidth} x ${window.innerHeight}`;
        
        const dpr = window.devicePixelRatio || 1;
        document.getElementById('dpr-val').innerText = dpr.toFixed(2) + "x";
        document.getElementById('color-depth').innerText = window.screen.colorDepth + "-bit";
        
        // Gamut Check (P3 Support)
        if (window.matchMedia("(color-gamut: p3)").matches) {
            document.getElementById('color-gamut').innerText = "Wide Color (P3) ‚úÖ";
            document.getElementById('color-gamut').classList.add('highlight');
        } else {
            document.getElementById('color-gamut').innerText = "Standard (sRGB)";
        }

        // HDR Check
        if (window.matchMedia("(dynamic-range: high)").matches) {
            document.getElementById('hdr-support').innerText = "Supported ‚úÖ";
            document.getElementById('hdr-support').classList.add('highlight');
        } else {
            document.getElementById('hdr-support').innerText = "SDR Only";
        }

        // Orientation
        const type = screen.orientation ? screen.orientation.type : "Unknown";
        document.getElementById('orient').innerText = type.replace("-", " ").toUpperCase();

    </script>
</body>
</html>
